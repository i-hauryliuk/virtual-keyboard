!function(e){var l={};function t(a){if(l[a])return l[a].exports;var o=l[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=l,t.d=function(e,l,a){t.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,l){if(1&l&&(e=t(e)),8&l)return e;if(4&l&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&l&&"string"!=typeof e)for(var o in e)t.d(a,o,function(l){return e[l]}.bind(null,o));return a},t.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(l,"a",l),l},t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},t.p="",t(t.s=0)}([function(e,l,t){t(2),e.exports=t(1)},function(e,l,t){},function(e,l,t){"use strict";t.r(l);var a=[{en:[{code:"Backquote",mainValue:"`",otherValue:"~",label:null,isControl:!1},{code:"Digit1",mainValue:"1",otherValue:"!",label:null,isControl:!1},{code:"Digit2",mainValue:"2",otherValue:"@",label:null,isControl:!1},{code:"Digit3",mainValue:"3",otherValue:"#",label:null,isControl:!1},{code:"Digit4",mainValue:"4",otherValue:"$",label:null,isControl:!1},{code:"Digit5",mainValue:"5",otherValue:"%",label:null,isControl:!1},{code:"Digit6",mainValue:"6",otherValue:"^",label:null,isControl:!1},{code:"Digit7",mainValue:"7",otherValue:"&",label:null,isControl:!1},{code:"Digit8",mainValue:"8",otherValue:"*",label:null,isControl:!1},{code:"Digit9",mainValue:"9",otherValue:"(",label:null,isControl:!1},{code:"Digit0",mainValue:"0",otherValue:")",label:null,isControl:!1},{code:"Minus",mainValue:"-",otherValue:"_",label:null,isControl:!1},{code:"Equal",mainValue:"=",otherValue:"+",label:null,isControl:!1},{code:"Backspace",mainValue:"Backspace",otherValue:null,label:null,isControl:!0},{code:"Home",mainValue:"Home",otherValue:null,label:null,isControl:!0},{code:"Tab",mainValue:"\t",otherValue:null,label:"Tab",isControl:!0},{code:"KeyQ",mainValue:"q",otherValue:null,label:null,isControl:!1},{code:"KeyW",mainValue:"w",otherValue:null,label:null,isControl:!1},{code:"KeyE",mainValue:"e",otherValue:null,label:null,isControl:!1},{code:"KeyR",mainValue:"r",otherValue:null,label:null,isControl:!1},{code:"KeyT",mainValue:"t",otherValue:null,label:null,isControl:!1},{code:"KeyY",mainValue:"y",otherValue:null,label:null,isControl:!1},{code:"KeyU",mainValue:"u",otherValue:null,label:null,isControl:!1},{code:"KeyI",mainValue:"i",otherValue:null,label:null,isControl:!1},{code:"KeyO",mainValue:"o",otherValue:null,label:null,isControl:!1},{code:"KeyP",mainValue:"p",otherValue:null,label:null,isControl:!1},{code:"BracketLeft",mainValue:"[",otherValue:"{",label:null,isControl:!1},{code:"BracketRight",mainValue:"]",otherValue:"}",label:null,isControl:!1},{code:"Backslash",mainValue:"\\",otherValue:"|",label:null,isControl:!1},{code:"End",mainValue:"End",otherValue:null,label:null,isControl:!0},{code:"CapsLock",mainValue:"Caps",otherValue:null,label:null,isControl:!0},{code:"KeyA",mainValue:"a",otherValue:null,label:null,isControl:!1},{code:"KeyS",mainValue:"s",otherValue:null,label:null,isControl:!1},{code:"KeyD",mainValue:"d",otherValue:null,label:null,isControl:!1},{code:"KeyF",mainValue:"f",otherValue:null,label:null,isControl:!1},{code:"KeyG",mainValue:"g",otherValue:null,label:null,isControl:!1},{code:"KeyH",mainValue:"h",otherValue:null,label:null,isControl:!1},{code:"KeyJ",mainValue:"j",otherValue:null,label:null,isControl:!1},{code:"KeyK",mainValue:"k",otherValue:null,label:null,isControl:!1},{code:"KeyL",mainValue:"l",otherValue:null,label:null,isControl:!1},{code:"Semicolon",mainValue:";",otherValue:":",label:null,isControl:!1},{code:"Quote",mainValue:"'",otherValue:'"',label:null,isControl:!1},{code:"Enter",mainValue:"\n",otherValue:null,label:"Enter",isControl:!0},{code:"PageUp",mainValue:"Up",otherValue:null,label:null,isControl:!0},{code:"ShiftLeft",mainValue:"Shift",otherValue:null,label:null,isControl:!0},{code:"KeyZ",mainValue:"z",otherValue:null,label:null,isControl:!1},{code:"KeyX",mainValue:"x",otherValue:null,label:null,isControl:!1},{code:"KeyC",mainValue:"c",otherValue:null,label:null,isControl:!1},{code:"KeyV",mainValue:"v",otherValue:null,label:null,isControl:!1},{code:"KeyB",mainValue:"b",otherValue:null,label:null,isControl:!1},{code:"KeyN",mainValue:"n",otherValue:null,label:null,isControl:!1},{code:"KeyM",mainValue:"m",otherValue:null,label:null,isControl:!1},{code:"Comma",mainValue:",",otherValue:"<",label:null,isControl:!1},{code:"Period",mainValue:".",otherValue:">",label:null,isControl:!1},{code:"Slash",mainValue:"/",otherValue:"?",label:null,isControl:!1},{code:"ShiftRight",mainValue:"Shift",otherValue:null,label:null,isControl:!0},{code:"ArrowUp",mainValue:"↑",otherValue:null,label:null,isControl:!1},{code:"PageDown",mainValue:"Down",otherValue:null,label:null,isControl:!0},{code:"ControlLeft",mainValue:"Ctrl",otherValue:null,label:null,isControl:!0},{code:"MetaLeft",mainValue:"Meta",otherValue:null,label:null,isControl:!0},{code:"AltLeft",mainValue:"Alt",otherValue:null,label:null,isControl:!0},{code:"Space",mainValue:" ",otherValue:null,label:"",isControl:!1},{code:"AltRight",mainValue:"Alt",otherValue:null,label:null,isControl:!0},{code:"ContextMenu",mainValue:"Menu",otherValue:null,label:null,isControl:!0},{code:"ControlRight",mainValue:"Ctrl",otherValue:null,label:null,isControl:!0},{code:"ArrowLeft",mainValue:"←",otherValue:null,label:null,isControl:!1},{code:"ArrowDown",mainValue:"↓",otherValue:null,label:null,isControl:!1},{code:"ArrowRight",mainValue:"→",otherValue:null,label:null,isControl:!1}]},{ru:[{code:"Backquote",mainValue:"ё",otherValue:"~",label:null,isControl:!1},{code:"Digit1",mainValue:"1",otherValue:"!",label:null,isControl:!1},{code:"Digit2",mainValue:"2",otherValue:'"',label:null,isControl:!1},{code:"Digit3",mainValue:"3",otherValue:"№",label:null,isControl:!1},{code:"Digit4",mainValue:"4",otherValue:";",label:null,isControl:!1},{code:"Digit5",mainValue:"5",otherValue:"%",label:null,isControl:!1},{code:"Digit6",mainValue:"6",otherValue:":",label:null,isControl:!1},{code:"Digit7",mainValue:"7",otherValue:"?",label:null,isControl:!1},{code:"Digit8",mainValue:"8",otherValue:"*",label:null,isControl:!1},{code:"Digit9",mainValue:"9",otherValue:"(",label:null,isControl:!1},{code:"Digit0",mainValue:"0",otherValue:")",label:null,isControl:!1},{code:"Minus",mainValue:"-",otherValue:"_",label:null,isControl:!1},{code:"Equal",mainValue:"=",otherValue:"+",label:null,isControl:!1},{code:"Backspace",mainValue:"Backspace",otherValue:null,label:null,isControl:!0},{code:"Home",mainValue:"Home",otherValue:null,label:null,isControl:!0},{code:"Tab",mainValue:"\t",otherValue:null,label:"Tab",isControl:!0},{code:"KeyQ",mainValue:"й",otherValue:null,label:null,isControl:!1},{code:"KeyW",mainValue:"ц",otherValue:null,label:null,isControl:!1},{code:"KeyE",mainValue:"у",otherValue:null,label:null,isControl:!1},{code:"KeyR",mainValue:"к",otherValue:null,label:null,isControl:!1},{code:"KeyT",mainValue:"е",otherValue:null,label:null,isControl:!1},{code:"KeyY",mainValue:"н",otherValue:null,label:null,isControl:!1},{code:"KeyU",mainValue:"г",otherValue:null,label:null,isControl:!1},{code:"KeyI",mainValue:"ш",otherValue:null,label:null,isControl:!1},{code:"KeyO",mainValue:"щ",otherValue:null,label:null,isControl:!1},{code:"KeyP",mainValue:"з",otherValue:null,label:null,isControl:!1},{code:"BracketLeft",mainValue:"х",otherValue:"{",label:null,isControl:!1},{code:"BracketRight",mainValue:"ъ",otherValue:"}",label:null,isControl:!1},{code:"Backslash",mainValue:"\\",otherValue:"/",label:null,isControl:!1},{code:"End",mainValue:"End",otherValue:null,label:null,isControl:!0},{code:"CapsLock",mainValue:"Caps",otherValue:null,label:null,isControl:!0},{code:"KeyA",mainValue:"ф",otherValue:null,label:null,isControl:!1},{code:"KeyS",mainValue:"ы",otherValue:null,label:null,isControl:!1},{code:"KeyD",mainValue:"в",otherValue:null,label:null,isControl:!1},{code:"KeyF",mainValue:"а",otherValue:null,label:null,isControl:!1},{code:"KeyG",mainValue:"п",otherValue:null,label:null,isControl:!1},{code:"KeyH",mainValue:"р",otherValue:null,label:null,isControl:!1},{code:"KeyJ",mainValue:"о",otherValue:null,label:null,isControl:!1},{code:"KeyK",mainValue:"л",otherValue:null,label:null,isControl:!1},{code:"KeyL",mainValue:"д",otherValue:null,label:null,isControl:!1},{code:"Semicolon",mainValue:"ж",otherValue:":",label:null,isControl:!1},{code:"Quote",mainValue:"э",otherValue:'"',label:null,isControl:!1},{code:"Enter",mainValue:"\n",otherValue:null,label:"Enter",isControl:!0},{code:"PageUp",mainValue:"Up",otherValue:null,label:null,isControl:!0},{code:"ShiftLeft",mainValue:"Shift",otherValue:null,label:null,isControl:!0},{code:"KeyZ",mainValue:"я",otherValue:null,label:null,isControl:!1},{code:"KeyX",mainValue:"ч",otherValue:null,label:null,isControl:!1},{code:"KeyC",mainValue:"с",otherValue:null,label:null,isControl:!1},{code:"KeyV",mainValue:"м",otherValue:null,label:null,isControl:!1},{code:"KeyB",mainValue:"и",otherValue:null,label:null,isControl:!1},{code:"KeyN",mainValue:"т",otherValue:null,label:null,isControl:!1},{code:"KeyM",mainValue:"ь",otherValue:null,label:null,isControl:!1},{code:"Comma",mainValue:"б",otherValue:"<",label:null,isControl:!1},{code:"Period",mainValue:"ю",otherValue:">",label:null,isControl:!1},{code:"Slash",mainValue:".",otherValue:",",label:null,isControl:!1},{code:"ShiftRight",mainValue:"Shift",otherValue:null,label:null,isControl:!0},{code:"ArrowUp",mainValue:"↑",otherValue:null,label:null,isControl:!1},{code:"PageDown",mainValue:"Down",otherValue:null,label:null,isControl:!0},{code:"ControlLeft",mainValue:"Ctrl",otherValue:null,label:null,isControl:!0},{code:"MetaLeft",mainValue:"Meta",otherValue:null,label:null,isControl:!0},{code:"AltLeft",mainValue:"Alt",otherValue:null,label:null,isControl:!0},{code:"Space",mainValue:" ",otherValue:null,label:"",isControl:!1},{code:"AltRight",mainValue:"Alt",otherValue:null,label:null,isControl:!0},{code:"ContextMenu",mainValue:"Menu",otherValue:null,label:null,isControl:!0},{code:"ControlRight",mainValue:"Ctrl",otherValue:null,label:null,isControl:!0},{code:"ArrowLeft",mainValue:"←",otherValue:null,label:null,isControl:!1},{code:"ArrowDown",mainValue:"↓",otherValue:null,label:null,isControl:!1},{code:"ArrowRight",mainValue:"→",otherValue:null,label:null,isControl:!1}]}];function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,l){if(!e)return;if("string"==typeof e)return n(e,l);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,l)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,l){(null==l||l>e.length)&&(l=e.length);for(var t=0,a=new Array(l);t<l;t++)a[t]=e[t];return a}function i(e,l){for(var t=0;t<l.length;t++){var a=l[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(l,t,a,o){!function(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this,e),this.code=l.code,this.mainValue=l.mainValue,this.otherValue=l.otherValue,this.label=l.label,this.isControl=l.isControl,this.domNode=this.createDomNode(t,a,o)}var l,t,a;return l=e,(t=[{key:"createDomNode",value:function(e,l,t){var a,n,i,u,r,s,c,d,h,V,y=document.createElement(e.keyTag);"button"===e.keyTag&&(y.setAttribute("type","button"),y.setAttribute("tabindex","-1")),y.setAttribute("data-code",this.code),(a=y.classList).add.apply(a,o(l.keyClasses)),this.isControl&&(i=y.classList).add.apply(i,o(t.keyModifiers.keyControl)),"Backspace"===this.code&&(u=y.classList).add.apply(u,o(t.keyModifiers.keyBackspace)),"Tab"===this.code&&(r=y.classList).add.apply(r,o(t.keyModifiers.keyTab)),"CapsLock"===this.code&&(s=y.classList).add.apply(s,o(t.keyModifiers.keyCaps)),"Enter"===this.code&&(c=y.classList).add.apply(c,o(t.keyModifiers.keyEnter)),this.code.startsWith("Shift")&&(d=y.classList).add.apply(d,o(t.keyModifiers.keyShift)),this.code.startsWith("Control")&&(h=y.classList).add.apply(h,o(t.keyModifiers.keyCtrl)),"Space"===this.code&&(V=y.classList).add.apply(V,o(t.keyModifiers.keySpace));var m=document.createElement(e.keyMainValueTag);if((n=m.classList).add.apply(n,o(l.keyMainValueClasses)),m.textContent=this.label?this.label:this.mainValue,y.append(m),this.otherValue){var b,C=document.createElement(e.keyOtherValueTag);(b=C.classList).add.apply(b,o(l.keyOtherValueClasses)),C.textContent=this.otherValue,y.prepend(C)}return y}},{key:"getDomNode",value:function(){return this.domNode}},{key:"highlight",value:function(e){var l;(l=this.domNode.classList).add.apply(l,o(e))}},{key:"deHighlight",value:function(e){var l;(l=this.domNode.classList).remove.apply(l,o(e))}},{key:"changeLang",value:function(e,l){this.code=e.code,this.mainValue="upper"===l?e.mainValue.toUpperCase():e.mainValue,this.domNode.querySelector(".key__main-label").textContent=this.mainValue,e.otherValue&&(this.otherValue="upper"===l?e.otherValue.toUpperCase():e.otherValue,this.domNode.querySelector(".key__other-label").textContent=this.otherValue),e.label&&(this.label=e.label)}}])&&i(l.prototype,t),a&&i(l,a),e}();function r(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,l){if(!e)return;if("string"==typeof e)return s(e,l);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,l)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,l){(null==l||l>e.length)&&(l=e.length);for(var t=0,a=new Array(l);t<l;t++)a[t]=e[t];return a}function c(e,l){for(var t=0;t<l.length;t++){var a=l[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d=function(){function e(){!function(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this,e),this.domNode=null,this.outputFieldDomNode=null,this.currentValue=[]}var l,t,a;return l=e,(t=[{key:"createOutput",value:function(e,l){var t,a,o=document.createElement(e.outputTag);(t=o.classList).add.apply(t,r(l.outputClasses));var n=document.createElement(e.outputFieldTag);n.setAttribute("tabindex","-1"),n.setAttribute("disabled",""),(a=n.classList).add.apply(a,r(l.outputFieldClasses)),n.textContent=this.currentValue.join(""),o.append(n),this.domNode=o,this.outputFieldDomNode=this.domNode.querySelector(".output__field")}},{key:"updateValue",value:function(e){this.currentValue.push(e),this.updateDom()}},{key:"updateDom",value:function(){this.outputFieldDomNode.textContent=this.currentValue.join("")}}])&&c(l.prototype,t),a&&c(l,a),e}();function h(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,l){if(!e)return;if("string"==typeof e)return V(e,l);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V(e,l)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,l){(null==l||l>e.length)&&(l=e.length);for(var t=0,a=new Array(l);t<l;t++)a[t]=e[t];return a}function y(e,l){for(var t=0;t<l.length;t++){var a=l[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var m={keyTag:"button",keyMainValueTag:"span",keyOtherValueTag:"span"},b={keyClasses:["key"],keyMainValueClasses:["key__main-label"],keyOtherValueClasses:["key__other-label"]},C={keyModifiers:{keyPressed:["key_pressed"],shiftActive:["key_shift_active"],keyControl:["key_control"],keyBackspace:["key_backspace"],keyTab:["key_tab"],keyCaps:["key_caps"],keyEnter:["key_enter"],keyShift:["key_shift"],keyCtrl:["key_ctrl"],keySpace:["key_space"]}},p={keyboardTag:"div",keyboardKeysTag:"div",keyboardKeyTag:"div"},f={keyboardClasses:["keyboard"],keyboardKeysClasses:["keyboard__keys"],keyboardKeyClasses:["keyboard__key"]},k={outputTag:"div",outputFieldTag:"textarea"},g={outputClasses:["output"],outputFieldClasses:["output__field"]},v=function(){function e(l){!function(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=l||"en",this.domNode=null,this.repeating=!1,this.isCapsLockActive=!1,this.isShiftHold=!1,this.isAltHold=!1,this.isCtrlHold=!1,this.case="lower",this.keys=this.createKeys(),this.keysCodes=null,this.specialKeyCodes=["Backspace","Home","End","CapsLock","PageUp","ShiftLeft","ShiftRight","PageDown","ControlLeft","MetaLeft","AltLeft","AltRight","ContextMenu","ControlRight"],this.output=null}var l,t,o;return l=e,(t=[{key:"init",value:function(){this.keysCodes=this.getKeysCodes();var e=document.createElement("div");e.classList.add("wrapper");var l=new d;this.output=l,l.createOutput(k,g),e.append(l.domNode),this.createDomNode(p,f),e.append(this.domNode),document.body.classList.add("page"),document.body.prepend(e)}},{key:"createKeys",value:function(){var e=this,l=[];return a.filter((function(l){return e.lang in l}))[0][this.lang].forEach((function(e){var t=new u(e,m,b,C);l.push(t)})),l}},{key:"createDomNode",value:function(e,l){var t,a,o=document.createElement(e.keyboardTag);o.setAttribute("tabindex","0"),(t=o.classList).add.apply(t,h(l.keyboardClasses)),o.addEventListener("mousedown",this.processClickedElement.bind(this)),o.addEventListener("mouseup",this.processClickedElement.bind(this)),o.addEventListener("keydown",this.processPressedKey.bind(this)),o.addEventListener("keyup",this.processPressedKey.bind(this));var n=document.createElement(e.keyboardKeysTag);(a=n.classList).add.apply(a,h(l.keyboardKeysClasses));var i=new DocumentFragment;this.keys.forEach((function(t){var a,o=document.createElement(e.keyboardKeyTag);(a=o.classList).add.apply(a,h(l.keyboardKeyClasses)),o.append(t.domNode),i.append(o)})),n.append(i),o.append(n),this.domNode=o}},{key:"getKeysCodes",value:function(){return this.keys.map((function(e){return e.code}))}},{key:"processClickedElement",value:function(e){e.currentTarget.focus();var l=e.target.classList.contains("key")?e.target.dataset.code:null;if(l&&this.keysCodes.includes(l)){var t=this.getCurrentKey(l);"mousedown"===e.type&&1===e.which?(t.highlight(C.keyModifiers.keyPressed),"CapsLock"===l&&this.processPressingCaps(l),l.startsWith("Shift")&&(this.isShiftHold=!0,this.toggleCase()),this.specialKeyCodes.includes(l)||this.output.updateValue(this.getKeyCurrentValue(t))):"mouseup"===e.type&&(l.startsWith("Shift")&&(this.isShiftHold=!1,this.toggleCase()),t.deHighlight(C.keyModifiers.keyPressed))}}},{key:"processPressedKey",value:function(e){e.preventDefault();var l=e.code;if(this.keysCodes.includes(l)){var t=this.getCurrentKey(l);"keydown"===e.type?(t.highlight(C.keyModifiers.keyPressed),(!this.repeating||this.isShiftHold||this.isAltHold)&&(this.repeating=!0,l.startsWith("Shift")&&!this.isShiftHold&&(this.isShiftHold=!0,this.isAltHold?this.changeKeyboardLang():this.toggleCase()),"CapsLock"===l&&this.processPressingCaps(l),l.startsWith("Alt")&&!this.isAltHold&&(this.isAltHold=!0),this.specialKeyCodes.includes(l)||this.output.updateValue(this.getKeyCurrentValue(t)))):"keyup"===e.type&&(t.deHighlight(C.keyModifiers.keyPressed),l.startsWith("Shift")&&(this.isShiftHold=!1,this.isAltHold||this.toggleCase()),l.startsWith("Alt")&&(this.isAltHold=!1),this.repeating=!1)}}},{key:"getCurrentKey",value:function(e){return this.keys.filter((function(l){return l.code===e}))[0]}},{key:"getKeyCurrentValue",value:function(e){return this.isShiftHold&&e.otherValue?e.otherValue:e.mainValue}},{key:"toggleCase",value:function(){var e=this;"lower"===this.case?(this.keys.forEach((function(l){var t=l;e.specialKeyCodes.includes(t.code)||"Enter"===t.code||"Tab"===t.code||(t.mainValue=t.mainValue.toUpperCase(),t.otherValue&&t.otherValue.toUpperCase(),Array.from(t.domNode.children).forEach((function(e){var l=e;l.classList.contains("key__main-label")?l.textContent=t.mainValue:l.classList.contains("key__other-label")&&(l.textContent=t.otherValue)})))})),this.case="upper"):(this.keys.forEach((function(l){var t=l;e.specialKeyCodes.includes(t.code)||"Enter"===t.code||"Tab"===t.code||(t.mainValue=t.mainValue.toLowerCase(),t.otherValue&&t.otherValue.toLowerCase(),Array.from(t.domNode.children).forEach((function(e){var l=e;l.classList.contains("key__main-label")?l.textContent=t.mainValue:l.classList.contains("key__other-label")&&(l.textContent=t.otherValue)})))})),this.case="lower")}},{key:"changeKeyboardLang",value:function(){var e=this;"en"===this.lang?(this.keys.forEach((function(l,t){e.specialKeyCodes.includes(l.code)||"Enter"===l.code||"Tab"===l.code||l.changeLang(a[1].ru[t],e.case)})),this.lang="ru"):(this.keys.forEach((function(l,t){e.specialKeyCodes.includes(l.code)||"Enter"===l.code||"Tab"===l.code||l.changeLang(a[0].en[t],e.case)})),this.lang="en")}},{key:"processPressingCaps",value:function(e){this.isCapsLockActive=!this.isCapsLockActive,this.isCapsLockActive?(this.getCurrentKey(e).domNode.classList.add(C.keyModifiers.shiftActive),this.toggleCase()):(this.getCurrentKey(e).domNode.classList.remove(C.keyModifiers.shiftActive),this.toggleCase())}}])&&y(l.prototype,t),o&&y(l,o),e}();window.onload=function(){var e=localStorage.kblang?localStorage.kblang:"en",l=new v(e);l.init(),window.addEventListener("beforeunload",(function(){localStorage.kblang=l.lang}))}}]);